<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Route Finder</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="./main.css">
  <script src="https://cdn.jsdelivr.net/npm/axios@1.1.2/dist/axios.min.js"></script>
</head>

<body>
  <nav id = "navbar" class="navbar navbar-expand-md navbar-dark bg-dark" style="padding: 10px">
    <a class="navbar-brand" href="#">BearPath</a>
    <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarCollapse"
      aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="navbar-collapse collapse" id="navbarCollapse">
      <form class="form-inline mt-2 mt-md-0" style="display: flex" id="superMegaSearchForm">
        <select class="form-select form-select-sm mr-sm-2 mt-3 mb-3 ml-2 mr-2" id="from">
          <option value='ADM'>Administration (ADM)</option>
          <option value='AF'>Agriculture Forestry Centre (AF)</option>
          <option value='ASH'>Assiniboia Hall (ASH)</option>
          <option value='ATH'>Athabasca Hall (ATH)</option>
          <option value='C'>Gunning/Lemieux Chemistry Centre (C)</option>
          <option value='CAB'>Central Academic Building (CAB)</option>
          <option value='CCIS'>Centennial Centre for Interdisciplinary Science (CCIS)</option>
          <option value='CL'>Cameron Library (CL)</option>
          <option value='CME'>Chemical/Materials Engineering Building (CME)</option>
          <option value='CSC'>Computing Science Centre (CSC)</option>
          <option value='DICE'>Donadeo Innovation Centre for Engineering (DICE)</option>
          <option value='ED_N'>Education Centre North (ED-N)</option>
          <option value='ED_S'>Education Centre South (ED-S)</option>
          <option value='ESB'>Earth Sciences Building (ESB)</option>
          <option value='ETLC'>Engineering Teaching and Learning Complex (ETLC)</option>
          <option value='FAB'>Fine Arts Building (FAB)</option>
          <option value='HC'>Humanities Centre (HC)</option>
          <option value='HEB'>Human Ecology (HEB)</option>
          <option value='HUB'>HUB International (HUB)</option>
          <option value='IND'>Industrial Design Studio (IND)</option>
          <option value='LC'>Law Centre (LC)</option>
          <option value='MEC'>Mechanical Engineering (MEC)</option>
          <option value='NPP'>North Power Plant / Dewey's (NPP)</option>
          <option value='NRE'>Natural Resources Engineering (NRE)</option>
          <option value='PAV'>Butterdome (PAV)</option>
          <option value='PB'>Pembina Hall (PB)</option>
          <option value='RL'>Rutherford Library (RL)</option>
          <option value='SAB'>South Academic Building (SAB)</option>
          <option value='SJ'>St. Joseph's College (SJ)</option>
          <option value='SS'>St. Stephen's College (SS)</option>
          <option value='SUB'>Students' Union Building (SUB)</option>
          <option value='TC'>Timms Centre for the Arts (TC)</option>
          <option value='TEL'>TELUS Centre (TEL)</option>
          <option value='TL'>Tory Building (TL)</option>
          <option value='VVC'>Van Vliet Complex (VVC)</option>
        </select>
        <select class="form-select mr-sm-2 mt-3 mb-3 ml-2 mr-2" id="to">
          <option value='ADM'>Administration (ADM)</option>
          <option value='AF'>Agriculture Forestry Centre (AF)</option>
          <option value='ASH'>Assiniboia Hall (ASH)</option>
          <option value='ATH'>Athabasca Hall (ATH)</option>
          <option value='C'>Gunning/Lemieux Chemistry Centre (C)</option>
          <option value='CAB'>Central Academic Building (CAB)</option>
          <option value='CCIS'>Centennial Centre for Interdisciplinary Science (CCIS)</option>
          <option value='CL'>Cameron Library (CL)</option>
          <option value='CME'>Chemical/Materials Engineering Building (CME)</option>
          <option value='CSC'>Computing Science Centre (CSC)</option>
          <option value='DICE'>Donadeo Innovation Centre for Engineering (DICE)</option>
          <option value='ED_N'>Education Centre North (ED-N)</option>
          <option value='ED_S'>Education Centre South (ED-S)</option>
          <option value='ESB'>Earth Sciences Building (ESB)</option>
          <option value='ETLC'>Engineering Teaching and Learning Complex (ETLC)</option>
          <option value='FAB'>Fine Arts Building (FAB)</option>
          <option value='HC'>Humanities Centre (HC)</option>
          <option value='HEB'>Human Ecology (HEB)</option>
          <option value='HUB'>HUB International (HUB)</option>
          <option value='IND'>Industrial Design Studio (IND)</option>
          <option value='LC'>Law Centre (LC)</option>
          <option value='MEC'>Mechanical Engineering (MEC)</option>
          <option value='NPP'>North Power Plant / Dewey's (NPP)</option>
          <option value='NRE'>Natural Resources Engineering (NRE)</option>
          <option value='PAV'>Butterdome (PAV)</option>
          <option value='PB'>Pembina Hall (PB)</option>
          <option value='RL'>Rutherford Library (RL)</option>
          <option value='SAB'>South Academic Building (SAB)</option>
          <option value='SJ'>St. Joseph's College (SJ)</option>
          <option value='SS'>St. Stephen's College (SS)</option>
          <option value='SUB'>Students' Union Building (SUB)</option>
          <option value='TC'>Timms Centre for the Arts (TC)</option>
          <option value='TEL'>TELUS Centre (TEL)</option>
          <option value='TL'>Tory Building (TL)</option>
          <option value='VVC'>Van Vliet Complex (VVC)</option>
        </select>
        <button class="btn btn-outline-success my-2 mr-sm-2" style="padding: 10px; margin: 10px"
          type="submit">Search</button>
      </form>
    </div>
    </nav>
    <script>

      form = document.getElementById('superMegaSearchForm')
      start = document.getElementById('from').value
      end = document.getElementById('to').value

      // Handle the click and submit event and disable the browsers default action
      // Make calls to our backend and then handle the response.
      const formSubmitHandler = (event) => {
        event.preventDefault()
        api_endpoint = 'https://uofadirections.herokuapp.com/api'
        axios.get(`${api_endpoint}?start=${start}&end=${end}`).then(() => {
          // do stuff
          console.log('from: ', from, 'to: ', to)
          console.log('got that niiiiice response.');
        })
        console.log('hello i have prevented the default from happening');
      }

      form.addEventListener('submit', formSubmitHandler, false)

    </script>
  </nav>
    <div id="map"></div>
    <div class="footer"></div>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCUtl5270Zd73fBYTG5aoPNknA9rs3SRfs&callback=initMap"></script>
    <script>
        let map;

        function initMap() {
          map = new google.maps.Map(document.getElementById("map"), {
            center: { lat: 53.52656767335504, lng: -113.5255622404301 },
            zoom: 15,
            styles: [
        { elementType: "geometry", stylers: [{ color: "#242f3e" }] },
        { elementType: "labels.text.stroke", stylers: [{ color: "#242f3e" }] },
        { elementType: "labels.text.fill", stylers: [{ color: "#746855" }] },
        {
          featureType: "administrative.locality",
          elementType: "labels.text.fill",
          stylers: [{ color: "#d59563" }],
        },
        {
          featureType: "poi",
          elementType: "labels.text.fill",
          stylers: [{ color: "#d59563" }],
        },
        {
          featureType: "poi.park",
          elementType: "geometry",
          stylers: [{ color: "#263c3f" }],
        },
        {
          featureType: "poi.park",
          elementType: "labels.text.fill",
          stylers: [{ color: "#6b9a76" }],
        },
        {
          featureType: "road",
          elementType: "geometry",
          stylers: [{ color: "#38414e" }],
        },
        {
          featureType: "road",
          elementType: "geometry.stroke",
          stylers: [{ color: "#212a37" }],
        },
        {
          featureType: "road",
          elementType: "labels.text.fill",
          stylers: [{ color: "#9ca5b3" }],
        },
        {
          featureType: "road.highway",
          elementType: "geometry",
          stylers: [{ color: "#746855" }],
        },
        {
          featureType: "road.highway",
          elementType: "geometry.stroke",
          stylers: [{ color: "#1f2835" }],
        },
        {
          featureType: "road.highway",
          elementType: "labels.text.fill",
          stylers: [{ color: "#f3d19c" }],
        },
        {
          featureType: "transit",
          elementType: "geometry",
          stylers: [{ color: "#2f3948" }],
        },
        {
          featureType: "transit.station",
          elementType: "labels.text.fill",
          stylers: [{ color: "#d59563" }],
        },
        {
          featureType: "water",
          elementType: "geometry",
          stylers: [{ color: "#17263c" }],
        },
        {
          featureType: "water",
          elementType: "labels.text.fill",
          stylers: [{ color: "#515c6d" }],
        },
        {
          featureType: "water",
          elementType: "labels.text.stroke",
          stylers: [{ color: "#17263c" }],
        },
      ],
    }
  );
}

        window.initMap = initMap;
    </script>
    <script>
      const response = {
        total_dist: 0.30086014678074685,
        route: [
          {
            pt1: {
              id: 0,
              name: "CCIS-Left 1",
              loc: [53.527979666330495, -113.52624824052],
            },
            pt2: {
              id: 4,
              name: "ATH-Left",
              loc: [53.5270417441689, -113.526625965725],
            },
            dist: 0.10727270513267456,
            polyline: "{tueI`b|sTzDjA",
          },
          {
            pt1: {
              id: 4,
              name: "ATH-Left",
              loc: [53.5270417441689, -113.526625965725],
            },
            pt2: {
              id: 2,
              name: "ATH-Right",
              loc: [53.5263922638098, -113.52667388707],
            },
            dist: 0.02169331404143356,
            polyline: "}jueItd|sTaCG",
          },
          {
            pt1: {
              id: 2,
              name: "ATH-Right",
              loc: [53.5263922638098, -113.52667388707],
            },
            pt2: {
              id: 18,
              name: "SUB-North East",
              loc: [53.5254617484598, -113.526841563672],
            },
            dist: 0.10409319564316637,
            polyline: "}jueItd|sTxD`@",
          },
          {
            pt1: {
              id: 18,
              name: "SUB-North East",
              loc: [53.5254617484598, -113.526841563672],
            },
            pt2: {
              id: 19,
              name: "SUB-South West",
              loc: [53.52496412041231, -113.527442334603],
            },
            dist: 0.020439195042359744,
            polyline: "ceueIve|sTbBvB",
          },
          {
            pt1: {
              id: 19,
              name: "SUB-South West",
              loc: [53.52496412041231, -113.527442334603],
            },
            pt2: {
              id: 38,
              name: "VVC-North",
              loc: [53.5245800291838, -113.527133164879],
            },
            dist: 0.04736173692111262,
            polyline: "_bueIni|sTjA}@",
          },
        ],
      };
  
      // response.route.forEach((element, index, array) => {
      //   const coordinates = element.polyline
  
      //   const walkPath = new google.maps.Polyline({
      //     path: coordinates,
      //     geodesic: true,
      //     strokeColor: "#FF0000",
      //     strokeOpacity: 1.0,
      //     strokeWidth: 2,
      //   });
  
      //   walkPath.setMap(map);
  
      // })
    </script>
    </div>
</body>

</html>